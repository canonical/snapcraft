# TESTING: This workflow has been modified to test with starflow PR #101
# Reference: https://github.com/canonical/starflow/pull/101
# The workflow references below have been changed from @main to
# @copilot/use-pristine-ubuntu-action to test against the changes in the
# starflow PR. This change is temporary for cross-repo testing purposes.
name: QA
on:
  push:
    branches:
      - "main"
      - "feature/*"
      - "hotfix/*"
      - "release/*"
      - "renovate/*"
  pull_request:

jobs:
  lint:
    uses: canonical/starflow/.github/workflows/lint-python.yaml@copilot/use-pristine-ubuntu-action
  test:
    uses: canonical/starflow/.github/workflows/test-python.yaml@copilot/use-pristine-ubuntu-action
    with:
      # Snapcraft currently only tests on Python 3.12 on Ubuntu 24.04
      fast-test-platforms: '["ubuntu-24.04"]'
      slow-test-platforms: '["ubuntu-24.04"]'
      lowest-python-platform: "ubuntu-24.04"
      fast-test-python-versions: '["3.12"]'
      slow-test-python-versions: '["3.12"]'
      lowest-python-version: "3.10"
