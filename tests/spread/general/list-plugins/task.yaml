summary: "Test `plugins` can successfully parse plugins."

prepare: |
  #shellcheck source=tests/spread/tools/snapcraft-yaml.sh
  . "$TOOLS_DIR/snapcraft-yaml.sh"
  set_base "snapcraft.yaml"

restore: |
  #shellcheck source=tests/spread/tools/snapcraft-yaml.sh
  . "$TOOLS_DIR/snapcraft-yaml.sh"
  restore_yaml "snapcraft.yaml"

execute: |
  snapcraft plugins

  # verify the `--base` parameter executes without error
  for base in "core22" "core24" "core26"; do
    snapcraft plugins --base=$base
  done
