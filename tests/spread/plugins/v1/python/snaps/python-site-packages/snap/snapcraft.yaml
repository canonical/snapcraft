name: python-site-packages
version: "0.1"
summary: "ensure snapcraft's site-packages do not leak"
description: |
  Ensure that the python plugin's added sitecustomize.py does
  not take into account the in-snap site-packages directory
  meant to be used during runtime as $SNAP would be snapcraft's
  which is also using the python plugin.
grade: devel
base: core18
confinement: strict

parts:
  python-path-test:
    plugin: python
    python-packages:
      - petname
    override-build: |
      snapcraftctl build
      python3 -c "import sys; import print; print("sys.path: {}".format(sys.path))"
